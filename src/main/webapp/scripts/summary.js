/**
 * Created by Guacamole on 4/14/16.
 */

//$(document).ready(mockObjectify());

var editTitle = false;
var editSummary = false;

// Get data from a mock comic to populate the summary page
var JSONcomic = '{"name":"CoConut","childMediaList":null,"id":null,"metadata":{"bio":"Follow the adventures of CoConut, the most relatable fruit in the world.","name":"Comic Sam","displayPicture":"images/covers/CoConutCover.png","bookmarkList":[{"comicTarget":"Comic Sam","userOrigin":"Junnie","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239058,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":58,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439058,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Maggie","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Richard McKenna","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Jennifer Wong","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Son Goku","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}}],"commentList":[{"comicTarget":"Comic Sam","userOrigin":"Junnie","description":"Great Comic!","lastEditedTime":null,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Maggie","description":"Great Comic!","lastEditedTime":null,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"John","description":"Great Comic!","lastEditedTime":null,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Barack Obama","description":"Great Comic!","lastEditedTime":null,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"John Cena","description":"Great Comic!","lastEditedTime":null,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Son Goku","description":"Great Comic!","lastEditedTime":null,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}}],"favoriteList":[{"comicTarget":"Comic Sam","userOrigin":"Junnie","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"John","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Chaerin","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Alexander Hamilton","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"John Cena","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}}],"likeList":[{"comicTarget":"Comic Sam","userOrigin":"Maggie","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"John","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Chaerin","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Barack Obama","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Alexander Hamilton","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Richard McKenna","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Jennifer Wong","dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}}],"author":"Maggie Lei","genre":"UNLISTED","ratingList":[{"comicTarget":"Comic Sam","userOrigin":"Chaerin","rating":4,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Barack Obama","rating":4,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239209,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":209,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439209,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Alexander Hamilton","rating":4,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"John Cena","rating":4,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Richard McKenna","rating":4,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Jennifer Wong","rating":4,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}},{"comicTarget":"Comic Sam","userOrigin":"Son Goku","rating":4,"dateTime":{"dayOfYear":112,"year":2016,"dayOfMonth":21,"dayOfWeek":4,"era":1,"millisOfDay":56239210,"monthOfYear":4,"hourOfDay":15,"minuteOfHour":37,"secondOfMinute":19,"millisOfSecond":210,"weekOfWeekyear":16,"weekyear":2016,"yearOfEra":2016,"yearOfCentury":16,"centuryOfEra":20,"secondOfDay":56239,"minuteOfDay":937,"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"},"millis":1461267439210,"chronology":{"zone":{"fixed":false,"uncachedZone":{"fixed":false,"cachable":true,"id":"America/New_York"},"id":"America/New_York"}},"afterNow":false,"beforeNow":true,"equalNow":false}}]}}';
//mockComic();
var obj = JSON.parse(JSONcomic);
var name = obj.name;
var author = obj.metadata.author;
var biography = obj.metadata.bio;
var cover = obj.metadata.displayPicture;

// Set data for the title
$("#title-header").html(name);
$("#title-text").html(name);

// Set the author
$("#author-header").html("Author: " + author)

// Set data for the summary
$("#summary-paragraph").html(biography);
$("#summary-text-area").html(biography);

// Set the cover image
$("#cover-thumbnail").attr("src", cover);

//var mockUser = mockUser();
//var mockObjectify = mockObjectify();

function editComicSummary(comic) {
    $("#edit-summary").toggle();
    if (editSummary == false) {
        editSummary = true;
    }
    else {
        if ($("#summary-text-area").val() != "")
            $("#summary-paragraph").html($("#summary-text-area").val());
        editSummary = false;
    }

}
function editComicTitle() {
    if (editTitle == true) {
        editTitle = false;
        if ($("#title-text").val() != "")  // if it has, reflect the change in the title header
            $("#title-header").html($("#title-text").val());
    } // else just change boolean flag
    else editTitle = true;

    $("#edit-title").toggle(); // toggle visibility of text box
}

function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            //localStorage.setItem("cover", e.target.result);
            $('#cover-thumbnail')
                .attr('src', e.target.result)
                .width(150)
                .height(200);
        };

        reader.readAsDataURL(input.files[0]);
    }
}

// ------------------------------------- MOCK DATA (mockingbird.js)-----------------------------------------

function mockUser() {
    $.ajax({
        url: "/UserServlet",
        type: "get",
        success: function(responseText) {
            $("#userJson > a").text(responseText);
        }
    })
}

function mockComic() {
    $.ajax({
        url: "/ComicServlet.create",
        type: "get",
        success: function(responseText) {
            $("#comicJson > a").text(responseText);
            JSONcomic = responseText;
        }
    })
}

function mockObjectify() {
    $.ajax({
        url: "/InitServlet",
        type: "get",
        success: function(responseText) {

            $("#objectify > a").text(responseText);
        }
    })}
